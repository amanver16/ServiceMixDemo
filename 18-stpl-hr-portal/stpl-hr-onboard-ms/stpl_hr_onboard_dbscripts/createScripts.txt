CREATE TABLE THR_ONBOARD_AGGREGATE (
    AGGREGATE_ID varchar(255) ,
    AGGREGATE_TYPE varchar(255),
    CREATED_DATE DATETIME default getdate(),
    PRIMARY KEY (AGGREGATE_ID)
);

CREATE TABLE THR_ONBOARD_AGGREGATE_EVENT  (
	SYSTEM_ID int IDENTITY (1,1),
    AGGREGATE_ID varchar(255) ,
    EVENT_DATA nvarchar(MAX),
    EVENT_NAME varchar(255),
    VERSION varchar(255),
    CREATED_DATE DATETIME default getdate(),
    PRIMARY KEY (SYSTEM_ID)
);
alter table THR_ONBOARD_AGGREGATE_EVENT add CONSTRAINT fk_THR_ONBOARD_AGGREGATE_EVENT_THR_ONBOARD_AGGREGATE_AGGREGATE_ID FOREIGN KEY(AGGREGATE_ID) references THR_ONBOARD_AGGREGATE
(AGGREGATE_ID)



CREATE TABLE THR_ONBOARD_QUERY_ASSOCIATE (
	ASSOCIATE_ID varchar(255),
    AGGREGATE_ID varchar(255) 
        
    PRIMARY KEY (ASSOCIATE_ID)
);
