CREATE TABLE THR_LOGIN_AGGREGATE (
    AGGREGATE_ID varchar(255) ,
    AGGREGATE_TYPE varchar(255),
    CREATED_DATE DATETIME default getdate(),
    PRIMARY KEY (AGGREGATE_ID)
);

CREATE TABLE THR_LOGIN_AGGREGATE_EVENT (
	SYSTEM_ID int IDENTITY (1,1),
    AGGREGATE_ID varchar(255) ,
    EVENT_DATA nvarchar(MAX),
    EVENT_NAME varchar(255),
    VERSION varchar(255),
    CREATED_DATE DATETIME default getdate(),
    PRIMARY KEY (SYSTEM_ID)
);
alter table THR_LOGIN_AGGREGATE_EVENT add CONSTRAINT fk_THR_LOGIN_AGGREGATE_EVENT_THR_LOGIN_AGGREGATE_AGGREGATE_ID FOREIGN KEY(AGGREGATE_ID) references THR_LOGIN_AGGREGATE
(AGGREGATE_ID)

CREATE TABLE THR_LOGIN_QUERY_USER (
    AGGREGATE_ID varchar(255) ,
    USERNAME varchar(255)    
    PRIMARY KEY (AGGREGATE_ID)
);